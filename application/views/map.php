<!doctype html>
<html lang="en">
<head>

	<meta charset="utf-8">
	<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
	<title>Home</title>
	<meta name="description" content="Startups template">
	<meta name="keywords" content="Startups template">
	<link rel="shortcut icon" href="assets/img/favicon.ico">
	<link rel="apple-touch-icon" href="assets/img/apple-touch-icon.jpg">
	<link rel="apple-touch-icon" sizes="72x72" href="assets/img/apple-touch-icon-72x72.jpg">
	<link rel="apple-touch-icon" sizes="114x114" href="assets/img/apple-touch-icon-114x114.jpg">
	<link rel="stylesheet" type="text/css" href="assets/css/custom-animations.css" />
	<link rel="stylesheet" type="text/css" href="assets/css/lib/font-awesome.min.css" />
	<link rel="stylesheet" type="text/css" href="assets/css/style.css" />

	<!--[if lt IE 9]>
		<script src="assets/js/html5shiv.js"></script>
		<script src="assets/js/respond.min.js"></script>
	<![endif]-->
</head>

<body id="landing-page" class="landing-page waiting-list-page">
	<!-- Preloader -->
	<div class="preloader-mask">
		<div class="preloader"><div class="spin base_clr_brd"><div class="clip left"><div class="circle"></div></div><div class="gap"><div class="circle"></div></div><div class="clip right"><div class="circle"></div></div></div></div>
	</div>

	<!-- Header -->
	<header>
		<nav class="navigation navigation-header">
			<div class="container">
				<div class="navigation-brand">
					<div class="brand-logo">
						Fashion Week
					</div>
				</div>
				<button class="navigation-toggle">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<div class="navigation-navbar collapsed">
					<ul class="navigation-bar navigation-bar-left">
						<li><a href="#hero">Home</a></li>
						<li><a href="#about">Booth Map</a></li>

					</ul>

				</div>
			</div>
		</nav>
	</header>

	<div id="hero" class="static-header window-height dark-text hero-section waiting-list-version clearfix">
		<div class="overlay"></div>
		<div class="heading-block centered-block">
			<div class="container">
				<div class="container">
					<div class="left-column col-lg-4 col-sm-5">
						<h1><span class="highlight">Launch</span> your startupÂ now</h1>
						<p class="sub-title alt">powerful forms processing to collect user submissions, configure it fast & easy to:</p>
						<ul>
							<li>Track submissions</li>
							<li>Integrate with Mailchimp</li>
							<li>Send auto-response/redirect on submit</li>
							<li>And much more!</li>
						</ul>
						<form>
							<input type="email" placeholder="E-mail">
							<button class="btn-solid">Go!</button>
						</form>
					</div>
					<div class="right-column col-lg-8 col-sm-7">
						<img src="assets/img/features/rich_features_3.png" class="img-responsive" alt="macbook">
					</div>
				</div>
			</div>
		</div>
	</div>

	<div id="clients" class="clients-section align-center">
		<div class="container">
			<ul class="list-inline logos">
				<li><img class="animated" data-animation="fadeInDown" data-duration="500" src="assets/img/logos/logo-1.png" alt="mashable" /></li>
				<li><img class="animated" data-animation="fadeInUp" data-duration="500" data-delay="200" src="assets/img/logos/logo-2.png" alt="tnw" /></li>
				<li><img class="animated" data-animation="fadeInDown" data-duration="500" data-delay="400" src="assets/img/logos/logo-3.png" alt="virgin" /></li>
				<li><img class="animated" data-animation="fadeInUp" data-duration="500" data-delay="600" src="assets/img/logos/logo-4.png" alt="microsoft" /></li>
				<li><img class="animated" data-animation="fadeInDown" data-duration="500" data-delay="800" src="assets/img/logos/logo-5.png" alt="forbes" /></li>
			</ul>
		</div>
	</div>

	<section id="about" class="section about-section align-center dark-text">
		<div class="container">

			<ul class="nav nav-tabs alt">
				<li class="active"><a href="#first-tab-alt" data-toggle="tab">FIRST TAB</a></li>
				<li><a href="#second-tab-alt" data-toggle="tab">SECOND TAB</a></li>
				<li><a href="#third-tab-alt" data-toggle="tab">THIRD TAB</a></li>
			</ul>

			<div class="tab-content alt">
				<div class="tab-pane active" id="first-tab-alt">
               <button class="reset" id="0">Fit</button>
               <div id="side1" class="center-align"></div>
				</div>

				<div class="tab-pane" id="second-tab-alt">
            <button class="reset" id="1">Fit</button>
               <div id="side2" class="center-align"></div>
				</div>

				<div class="tab-pane" id="third-tab-alt">
               <button class="reset" id="2">Fit</button>
               <div id="side3" class="center-align"></div>

			</div>
		</div>
	</section>

	<footer id="footer" class="footer light-text">
		<div class="container">
			<div class="footer-content row">
				<div class="col-sm-4 col-xs-12">
					<div class="logo-wrapper">
						<img width="130" height="31" src="assets/img/logo-white.png" alt="logo" />
					</div>
					<p>Ut enim ad minim veniam, quis nostrud exercitation ullamco. Qui officia deserunt mollit anim id est laborum. Ut enim ad minim veniam, quis nostrud exercitation ullamco. Nisi ut aliquid ex ea commodi consequatur?</p>
					<p><strong>John Doeson, Founder</strong>.</p>
				</div>
				<div class="col-sm-5 social-wrap col-xs-12">
					<strong class="heading">Social Networks</strong>
					<ul class="list-inline socials">
						<li><a href="#"><span class="icon icon-socialmedia-08"></span></a></li>
						<li><a href="#"><span class="icon icon-socialmedia-09"></span></a></li>
						<li><a href="#"><span class="icon icon-socialmedia-16"></span></a></li>
						<li><a href="#"><span class="icon icon-socialmedia-04"></span></a></li>
					</ul>
					<ul class="list-inline socials">
						<li><a href="#"><span class="icon icon-socialmedia-07"></span></a></li>
						<li><a href="#"><span class="icon icon-socialmedia-16"></span></a></li>
						<li><a href="#"><span class="icon icon-socialmedia-09"></span></a></li>
						<li><a href="#"><span class="icon icon-socialmedia-08"></span></a></li>
					</ul>
				</div>
				<div class="col-sm-3 col-xs-12">
					<strong class="heading">Our Contacts</strong>
					<ul class="list-unstyled">
						<li><span class="icon icon-chat-messages-14"></span><a href="mailto:info@startup.ly">info@startup.ly</a></li>
						<li><span class="icon icon-seo-icons-34"></span>2901 Marmora road, Glassgow, Seattle, WA 98122-1090</li>
						<li><span class="icon icon-seo-icons-17"></span>1 - 234-456-7980</li>
					</ul>
				</div>
			</div>
		</div>
		<div class="copyright">startup.ly 2014. All rights reserved.</div>
	</footer>
       <!-- Modal -->
       <div id="myModal" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">

    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
      <div class="modal-header">
      </div>
      <div class="modal-body">

      </div>
      </div>
    </div>
  </div>
	<div class="back-to-top"><i class="fa fa-angle-up fa-3x"></i></div>

	<!--[if lt IE 9]>
		<script type="text/javascript" src="assets/js/jquery-1.11.3.min.js?ver=1"></script>
	<![endif]-->
	<!--[if (gte IE 9) | (!IE)]><!-->
		<script type="text/javascript" src="assets/js/jquery-2.1.4.min.js?ver=1"></script>
	<!--<![endif]-->

	<script type="text/javascript" src="assets/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="assets/js/jquery.flexslider-min.js"></script>
	<script type="text/javascript" src="assets/js/jquery.appear.js"></script>
	<script type="text/javascript" src="assets/js/jquery.plugin.js"></script>
	<script type="text/javascript" src="assets/js/jquery.countdown.js"></script>
	<script type="text/javascript" src="assets/js/jquery.waypoints.min.js"></script>
	<script type="text/javascript" src="assets/js/jquery.validate.min.js"></script>
	<script type="text/javascript" src="assets/js/toastr.min.js"></script>
	<script type="text/javascript" src="assets/js/startuply.js"></script>
   <script type="text/javascript" src="assets/js/d3.min.js" > </script>
   <script type="text/javascript" src="assets/js/handlebars.js" ></script>
   <script type="text/javascript">
      var arr_zoom = [], arr_svg = [];
      arr_svg = ["#side1", "#side2", "#side3"].map((id, idx)=>{
                        let obj = d3.select(id)
                                 .append('svg')
                                 .attr('id',id)
                                 .attr('width','1000px')
                                 .attr('height', '800px')
                                 .attr('x','0px')
                                 .attr('y', '0px')
                                 .append('g')
                        arr_zoom[idx] = d3.zoom()
                                          .scaleExtent([.6, 1.7])
                                          .on("zoom", function () {
                                          d3.select(id)
                                             .select('g')
                                             .transition()
                                             .duration(400)
                                             .attr("transform",  d3.event.transform);
                                          });
                        obj.call(arr_zoom[idx]);
                        return obj;
                     })
                     .map((obj,idx)=>{
                        let cat = idx*1+1;
                        d3.json('index.php?/data/location/'+cat, (error, dataset) => {
                           obj.selectAll('g')
                              .remove()
                              .append('g')
                              .data(dataset.arr_prop)
                              .enter()
                              .append('rect')
                              .attr('id', function(d) { return d.idx })
                              .attr('transform', function(d) { return d.transform; } || 0)
                              .attr('x',function(d) { return d.x })
                              .attr('y',function(d) { return d.y - 100 } )
                              .attr('fill',function(d) { return d.booth_state == "free"?d.fill:d.booth_state == "booked"?"yellow":"red"; })
                              .attr('width',function(d) { return d.width })
                              .attr('height',function(d) { return d.height })
                              .attr('stroke', 'black')
                              .on("click",handle_click);

                        });
                        return obj;
                     })

      var arr_dt, template_body, template_header;

      $(function(){
         template_body = Handlebars.compile($('#spec_template').html());
         template_header = Handlebars.compile($('#modal_title_template').html());
      })

      function resetted() {
         let xx = this.id;
         arr_svg.forEach((obj,idx)=>{
            obj.transition()
                 .duration(400)
                 .call(arr_zoom[xx].transform, d3.zoomIdentity);
         })

      }

      $(".reset").on("click", resetted);

      function handle_click(d){
         $('.modal-body').html('');
         $('.modal-header').html('');
         d.btn = "Pesan";
         if(d.booth_state == 'sold'){
            var html_header = template_header({"title":"Booth Sudah Terjual"});
            $('.modal-header').html(html_header);
            $('#myModal').modal('show');
            return;
         }

         if(d.booth_state == 'booked'){
            d.btn = "Daftar Waitinglist";
            var html_header = template_header({"title":"Booth Sudah Dipesan"});
            var html_body = template_body(d);
            $('.modal-header').html(html_header);
            $('.modal-body').html(html_body);
            $('#myModal').modal('show');
            return;
         }
         var html_body = template_body(d);
         var html_header = template_header({"title":"Detail Booth"});
         $('.modal-body').html(html_body);
         $('.modal-header').html(html_header);
         $('#myModal').modal('show');
      }

   </script>
   <script id="spec_template" type="text/x-handlebars-template">
      <h4 class="modal-title">Booth No {{idx}}</h4>
         <table class="table">
            <tr>
               <td class="col-lg-2">Luas :</td>
               <td>{{booth_spec.luas}}</td>
            </tr>
            <tr>
               <td class="col-lg-2">listrik :</td>
               <td>{{booth_spec.listrik}}</td>
            </tr>
            <tr>
               <td class="col-lg-2">Meja :</td>
               <td>{{booth_spec.Meja}}</td>
            </tr>
            <tr>
               <td class="col-lg-2">Kursi :</td>
               <td>{{booth_spec.Kursi}}</td>
            </tr>
            <tr>
               <td class="col-lg-2">Harga :</td>
               <td>{{booth_price}}</td>
            </tr>
            <tr>
               <td colspan="2" align="right"><a href="<?=base_url()?>index.php?/pesan/index/{{idx}}" class="btn btn-primary">{{btn}}</a></td>
            </tr>
         </table>
   </script>

   <script id="modal_title_template" type="text/x-handlebars-template">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <h2 class="modal-title">{{title}}</h2>
   </script>
</body>
</html>
